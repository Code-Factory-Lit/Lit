<!doctype html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">

<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>list</title>
    <link rel="stylesheet" href="/src/main/resources/static/assets/css/main/main.css" />
    <link rel="stylesheet" href="/src/main/resources/static/assets/css/default.css" />
    <link rel="stylesheet" href="/src/main/resources/static/assets/css/header.css" />
    <link rel="stylesheet" href="/src/main/resources/static/assets/css/footer.css" />
    <!-- <link rel="stylesheet" href="/assets/css/main/main.css"/>
    <link rel="stylesheet" href="/assets/css/default.css"/>
    <link rel="stylesheet" href="/assets/css/header.css" />
    <link rel="stylesheet" href="/assets/css/footer.css" /> -->
    <style>
        div.photoContents {
            height: 100%;
        }

        div.photoContents>div {
            display: flex;
            flex-wrap: wrap;
        }

        figure {
            padding: 10px;
            width: 25%;
            height: 250px;
        }

        figure img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
    </style>

</head>

<body>
<header th:insert="~{/header :: header}"></header>
<main>
    <div class="_main_wrapper">
        <div class="_main_top_wrapper">
            <!-- 선택창 -->
            <div class="_top_selector">
                <div class="_selector_wrapper">
                    <a href="/" class="_top_home">
                        <div class="_selector">홈</div>
                    </a>
                    <a href="/" class="_top_popular">
                        <div class="_selector">인기</div>
                    </a>
                    <a href="/" class="_top_new">
                        <div class="_selector">신규</div>
                    </a>
                </div>
            </div>
            <!-- 광고 배너 -->
            <div class="_top_ad">
                <div class="_ad_wrapper">
                    <img src="/images/main/banner_ad1.jpg" width="895" height="208">
                    <img src="/images/main/banner_ad2.png" width="895" height="208" style="left:0%; z-index:1">
                    <img src="/images/main/banner_ad3.png" width="895" height="208" style="left:-100%">
                </div>
            </div>
            <!-- 카테고리 선택 창 -->
            <div class="_category_wrapper">
                <a href="/">
                    <div class="_category_detail _life">
                        <div class="_category_img_box" style="padding:10px ;">
                            <div class="_category_img">
                                <img class="_img" src="/images/main/life.png">
                            </div>
                        </div>
                        <div class="_category_write">
                            생 활
                        </div>
                    </div>
                </a>
                <a href="/">
                    <div class="_category_detail _exercise">
                        <div class="_category_img_box">
                            <div class="_category_img">
                                <img src="/images/main/exercise.png" class="_img">
                            </div>
                        </div>
                        <div class="_category_write">
                            운 동
                        </div>
                    </div>
                </a>
                <a href="/">
                    <div class="_category_detail _hobby">
                        <div class="_category_img_box">
                            <div class="_category_img">
                                <img src="/images/main/hobby.png" class="_img">
                            </div>
                        </div>
                        <div class="_category_write">
                            취 미
                        </div>
                    </div>
                </a>
                <a href="/">
                    <div class="_category_detail _art">
                        <div class="_category_img_box">
                            <div class="_category_img">
                                <img src="/images/main/art.png" class="_img">
                            </div>
                        </div>
                        <div class="_category_write">
                            예 술
                        </div>
                    </div>
                </a>
                <a href="/">
                    <div class="_category_detail _heart">
                        <div class="_category_img_box">
                            <div class="_category_img">
                                <img src="/images/main/heart.png" class="_img">
                            </div>
                        </div>
                        <div class="_category_write">
                            정 서
                        </div>
                    </div>
                </a>
                <a href="/">
                    <div class="_category_detail _eating">
                        <div class="_category_img_box">
                            <div class="_category_img">
                                <img src="/images/main/eating.png" class="_img">
                            </div>
                        </div>
                        <div class="_category_write">
                            식 습 관
                        </div>
                    </div>
                </a>
                <a href="/">
                    <div class="_category_detail _study">
                        <div class="_category_img_box">
                            <div class="_category_img">
                                <img src="/images/main/study.png" class="_img">
                            </div>
                        </div>
                        <div class="_category_write">
                            공 부
                        </div>
                    </div>
                </a>
            </div>
        </div>
        <!-- 본문 시작 -->
        <div class="_main_bottom_wrapper">
            <!-- 변경 버튼 -->
            <div class="litChange">
                <div>
                    <a class="lits1On" id="lits1">
                        <div><img class="litSvg" id="lit1Img" src="/images/mypage/menu.png">
                            <span class="litSpan">Lit up</span>
                        </div>
                    </a>
                </div>
                <div>
                    <a class="lits2Off" id="lits2">
                        <div><img class="litSvg" id="lit2Img" src="/images/mypage/fire.png">
                            <span class="litSpan">Lits</span>
                        </div>
                    </a>
                </div>
            </div>

            <!-- 프로젝트 시작 -->
            <div class="photoContents">
                <div>
                    <figure>
                        <a href="">
                            <img alt="" src="/static/images/project/upload/">
                        </a>
                    </figure>
                    <figure>
                        <a href="">
                            <img alt="" src="/src/main/resources/static//images/main/jenny2.jpg">
                        </a>
                    </figure>
                    <figure>
                        <a href="">
                            <img alt="" src="/src/main/resources/static//images/main/jenny2.jpg">
                        </a>
                    </figure>
                    <figure>
                        <a href="">
                            <img alt="" src="/src/main/resources/static//images/main/jenny2.jpg">
                        </a>
                    </figure>
                </div>
            </div>
        </div>
    </div>
    <div><a href="javascript:litList('lanking')">다음 리스트</a></div>
    <footer th:insert="~{/footer :: footer}"></footer>
</main>
</body>
<script src="https://code.jquery.com/jquery-3.6.0.js"></script>
<!-- <script src="/assets/js/main/main.js"></script> -->
<script src="/src/main/resources/static/assets/js/main/main.js"></script>

<script th:inline="javascript">
    let pageNum = 1;
    // 기본 시작은 lit
    litList("lanking");

    function litList(category) {
        $.ajax({
            url: "/list/lits/" + category + "/" + pageNum,
            type: "get",
            dataType: 'json',
            success: function (result) {
                pageNum++; // 다음 페이지 번호 지정
                // alert('성공');
                listadd(result);
            }, error: function (xhr, textStatus, errorThrown) {
                console.log('통신 실패');
                console.log(xhr);
                console.log(textStatus);
                console.log(errorThrown);
            }
        });
    }
    function litUpList(category) {
        $.ajax({
            url: "/list/litups/" + category + "/" + pageNum,
            type: "get",
            dataType: 'json',
            success: function (result) {
                pageNum++; // 다음 페이지 번호 지정
                // alert('성공');
                listadd(result);
            }, error: function (xhr, textStatus, errorThrown) {
                console.log('통신 실패');
                console.log(xhr);
                console.log(textStatus);
                console.log(errorThrown);
            }
        });
    }

    // 리스트에 추가하기
    function listadd(result) {
        const contBox = $('div.content2');
        let str = "";
        // console.log(result);

        $.each(result, function (i, projectVO) {
            let src = "";
            //이미지 경로
            src += projectVO.projectFile.uploadPath;
            src += projectVO.projectFile.uuid + "_";
            src += projectVO.projectFile.name;

            str += " <figure><a href='"+projectVO.projectNumber+"'>";
            str += " <img src='"+"1"+"'> ";
            str += "</a></figure>";

        });
        contBox.append(str);
    }

    function litUpList() {
        alert("22");
    }
</script>

</html>